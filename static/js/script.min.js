function resetFixtures(){socket.emit("resetFixtures")}function addFixtureModal(){socket.emit("getFixtureProfiles"),$("#fixtureProfilesModal").modal("show")}function addFixture(e){socket.emit("addFixture",{fixtureName:e,startDMXAddress:parseInt($("#newFixtureStartDMXAddress").val())}),$("#fixtureProfilesModal").modal("hide")}function viewFixtureChannels(e){socket.emit("getFixtureChannels",e)}function viewFixtureSettings(e){socket.emit("getFixtureSettings",e)}function updateFixtureChannelValue(e,t,n){socket.emit("changeFixtureChannelValue",{id:t,cid:n,value:parseInt(e.value)})}function removeFixture(e){confirm("Are you sure you want to delete this fixture?")&&(socket.emit("removeFixture",e),openTab("fixtures"))}function saveFixtureSettings(e){socket.emit("editFixtureSettings",{id:e,name:$("#fixtureNameInput").val(),shortName:$("#fixtureShortNameInput").val(),startDMXAddress:$("#fixtureDMXAddressInput").val()})}function removeCue(e){confirm("Are you sure you want to delete this cue?")&&(socket.emit("removeCue",e),openTab("cues"))}function saveCueSettings(e){socket.emit("editCueSettings",{id:e,name:$("#cueNameInput").val(),time:$("#cueTimeInput").val()})}function recordCue(){socket.emit("recordCue")}function nextCue(){socket.emit("nextCue")}function lastCue(){socket.emit("lastCue")}function stopCue(){socket.emit("stopCue")}function gotoCue(e){socket.emit("gotoCue",e)}function updateCue(e){socket.emit("updateCue",e)}function viewCueSettings(e){socket.emit("getCueSettings",e)}function closeAlert(){$("#alert").removeClass("show"),$("#alert").hasClass("alert-info")?$("#alert").removeClass("alert-info"):$("#alert").removeClass("alert-danger")}function openTab(e){var t,n,i;for(n=document.getElementsByClassName("tabcontent"),t=0;t<n.length;t++)n[t].style.display="none";i=document.getElementsByClassName("tablinks"),document.getElementById(e).style.display="block"}function titleCase(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}var socket=io("http://"+document.domain+":"+location.port);document.getElementById("fixturesTab").click(),socket.on("message",function(e){$("#alertText").text(e.content),$("#alert").addClass("show"),"info"==e.type?$("#alert").addClass("alert-info"):$("#alert").addClass("alert-danger")}),socket.on("fixtures",function(e){$("#fixturesList").empty(),0!=e.length?e.forEach(function(e){$("#fixturesList").append('<div class="col-4"><div class="fixtureItem" onclick="viewFixtureChannels(\''+e.id+"')\"><p>"+e.shortName+"</p></div></div>")}):$("#fixturesList").append('<div class="col-12"><h5>There are no fixtures in this show!</h5></div>')}),socket.on("cues",function(e){$("#cuesList").empty(),0!=e.length?e.forEach(function(e){1==e.active?style='style="background-color:#fab005"':style="",$("#cuesList").append('<div class="col-4"><div class="cueItem" '+style+"onclick=\"viewCueSettings('"+e.id+"')\"><p>"+e.name+"</p></div></div>")}):$("#cuesList").append('<div class="col-12"><h5>There are no cues in this show!</h5></div>')}),socket.on("fixtureProfiles",function(e){$("#fixtureProfilesList").empty(),e.forEach(function(e){$("#fixtureProfilesList").append('<li class="list-group-item fixtureProfileItem" onclick="addFixture(\''+e+"')\">"+titleCase(e)+"</li>")})}),socket.on("fixtureChannels",function(e){openTab("fixtureChannelsPage"),$("#fixtureChannels").empty(),$("#fixtureChannelsName").text(e.name),$("#fixtureSettingsBtn").on("click",function(){viewFixtureSettings(e.id)}),e.channels.forEach(function(t,n){$("#fixtureChannels").append('<label for="'+t.type+'">'+t.name+':</label><input type="range" class="custom-range" id="'+t.type+'" max="'+t.displayMax+'" min="'+t.displayMin+'" value="'+t.value+'" oninput="updateFixtureChannelValue(this, \''+e.id+"', "+n+')">')})}),socket.on("fixtureSettings",function(e){openTab("fixtureSettingsPage"),$("#fixtureChannelsBackBtn").on("click",function(){viewFixtureChannels(e.id)}),$("#fixtureDeleteBtn").on("click",function(){removeFixture(e.id)}),$("#fixtureSaveBtn").on("click",function(){saveFixtureSettings(e.id)}),$("#fixtureNameInput").val(e.name),$("#fixtureShortNameInput").val(e.shortName),$("#fixtureDMXAddressInput").val(e.startDMXAddress)}),socket.on("cueSettings",function(e){openTab("cueSettingsPage"),$("#cueDeleteBtn").on("click",function(){removeCue(e.id)}),$("#cueSaveBtn").on("click",function(){saveCueSettings(e.id)}),$("#gotoCueBtn").on("click",function(){gotoCue(e.id)}),$("#cueUpdateBtn").on("click",function(){updateCue(e.id)}),$("#cueNameInput").val(e.name),$("#cueTimeInput").val(e.time)}),socket.on("cueActionBtn",function(e){$("#cueActionBtn").empty(),$("#cueActionBtn").off("click"),0==e?($("#cueActionBtn").on("click",function(){recordCue()}),$("#cueActionBtn").append("Record")):($("#cueActionBtn").on("click",function(){stopCue()}),$("#cueActionBtn").append("Stop"))});